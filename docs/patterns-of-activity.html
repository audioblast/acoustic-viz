<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Patterns of activity | Visualisation for bioacoustics and ecoacoustics in R</title>
  <meta name="description" content="All about acoustic visualisation for bioacoustics and ecoacoustics." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Patterns of activity | Visualisation for bioacoustics and ecoacoustics in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="All about acoustic visualisation for bioacoustics and ecoacoustics." />
  <meta name="github-repo" content="audioblast/acoustic-viz" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Patterns of activity | Visualisation for bioacoustics and ecoacoustics in R" />
  
  <meta name="twitter:description" content="All about acoustic visualisation for bioacoustics and ecoacoustics." />
  

<meta name="author" content="Ed Baker" />


<meta name="date" content="2022-08-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="representing-soundscapes.html"/>
<link rel="next" href="displaying-annotations.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Acoustic Visualisation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#basic-acoustic-terminology"><i class="fa fa-check"></i><b>1.1</b> Basic acoustic terminology</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#types-of-files"><i class="fa fa-check"></i><b>1.2</b> Types of files</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#waveform-files"><i class="fa fa-check"></i><b>1.2.1</b> Waveform files</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#zero-crossing-files"><i class="fa fa-check"></i><b>1.2.2</b> zero-crossing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="history.html"><a href="history.html"><i class="fa fa-check"></i><b>2</b> History</a>
<ul>
<li class="chapter" data-level="2.1" data-path="history.html"><a href="history.html#descriptive-acoustics"><i class="fa fa-check"></i><b>2.1</b> Descriptive acoustics</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="history.html"><a href="history.html#phonemes-and-onomatopoeia"><i class="fa fa-check"></i><b>2.1.1</b> Phonemes and onomatopoeia</a></li>
<li class="chapter" data-level="2.1.2" data-path="history.html"><a href="history.html#musical-notation"><i class="fa fa-check"></i><b>2.1.2</b> Musical notation</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="history.html"><a href="history.html#analytic-acoustics"><i class="fa fa-check"></i><b>2.2</b> Analytic acoustics</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="history.html"><a href="history.html#the-big-three"><i class="fa fa-check"></i><b>2.2.1</b> The ‘big-three’</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="early-viz.html"><a href="early-viz.html"><i class="fa fa-check"></i><b>3</b> Early visualisations - the analog years</a>
<ul>
<li class="chapter" data-level="3.1" data-path="early-viz.html"><a href="early-viz.html#crts"><i class="fa fa-check"></i><b>3.1</b> CRTs</a></li>
<li class="chapter" data-level="3.2" data-path="early-viz.html"><a href="early-viz.html#print-outs"><i class="fa fa-check"></i><b>3.2</b> Print outs</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="static-digital-images.html"><a href="static-digital-images.html"><i class="fa fa-check"></i><b>4</b> Static digital images</a></li>
<li class="chapter" data-level="5" data-path="dynamic-digital-visualisations.html"><a href="dynamic-digital-visualisations.html"><i class="fa fa-check"></i><b>5</b> Dynamic digital visualisations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dynamic-digital-visualisations.html"><a href="dynamic-digital-visualisations.html#video-spectrograms"><i class="fa fa-check"></i><b>5.1</b> Video spectrograms</a></li>
<li class="chapter" data-level="5.2" data-path="dynamic-digital-visualisations.html"><a href="dynamic-digital-visualisations.html#zcjs-zero-crossing-file-visualisation"><i class="fa fa-check"></i><b>5.2</b> zcjs: Zero-crossing File Visualisation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="dynamic-digital-visualisations.html"><a href="dynamic-digital-visualisations.html#customising-a-zcjs-plot"><i class="fa fa-check"></i><b>5.2.1</b> Customising a zcjs plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="representing-soundscapes.html"><a href="representing-soundscapes.html"><i class="fa fa-check"></i><b>6</b> Representing Soundscapes</a>
<ul>
<li class="chapter" data-level="6.1" data-path="representing-soundscapes.html"><a href="representing-soundscapes.html#false-colour-index-spectrograms"><i class="fa fa-check"></i><b>6.1</b> False Colour Index Spectrograms</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html"><i class="fa fa-check"></i><b>7</b> Patterns of activity</a>
<ul>
<li class="chapter" data-level="7.1" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#daily-cycles"><i class="fa fa-check"></i><b>7.1</b> Daily Cycles</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#twilight-types"><i class="fa fa-check"></i><b>7.1.1</b> The Types of Twilight</a></li>
<li class="chapter" data-level="7.1.2" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#diel-plots"><i class="fa fa-check"></i><b>7.1.2</b> Diel Plots</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#yearly-cycles"><i class="fa fa-check"></i><b>7.2</b> Yearly Cycles</a></li>
<li class="chapter" data-level="7.3" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#lunar-cycles"><i class="fa fa-check"></i><b>7.3</b> Lunar Cycles</a></li>
<li class="chapter" data-level="7.4" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#core-and-ring-plots"><i class="fa fa-check"></i><b>7.4</b> Core and ring plots</a></li>
<li class="chapter" data-level="7.5" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#behind-the-scenes"><i class="fa fa-check"></i><b>7.5</b> Behind the scenes</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#radialpolygon"><i class="fa fa-check"></i><b>7.5.1</b> <code>radialPolygon()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#empty-plots"><i class="fa fa-check"></i><b>7.6</b> Empty plots</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#emptydiel"><i class="fa fa-check"></i><b>7.6.1</b> <code>emptyDiel()</code></a></li>
<li class="chapter" data-level="7.6.2" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#emptyyearly"><i class="fa fa-check"></i><b>7.6.2</b> <code>emptyYearly()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#adding-to-cyclical"><i class="fa fa-check"></i><b>7.7</b> Adding data to the visualisation</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#periodic-data-rings"><i class="fa fa-check"></i><b>7.7.1</b> Periodic data: rings</a></li>
<li class="chapter" data-level="7.7.2" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#periodic-data-horizons"><i class="fa fa-check"></i><b>7.7.2</b> Periodic data: horizons</a></li>
<li class="chapter" data-level="7.7.3" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#helper-functions"><i class="fa fa-check"></i><b>7.7.3</b> Helper functions</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="patterns-of-activity.html"><a href="patterns-of-activity.html#interactive-plots"><i class="fa fa-check"></i><b>7.8</b> Interactive Plots</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="displaying-annotations.html"><a href="displaying-annotations.html"><i class="fa fa-check"></i><b>8</b> Displaying annotations</a></li>
<li class="chapter" data-level="9" data-path="shiny-interactive-web-apps.html"><a href="shiny-interactive-web-apps.html"><i class="fa fa-check"></i><b>9</b> Shiny: Interactive Web Apps</a></li>
<li class="chapter" data-level="10" data-path="the-future.html"><a href="the-future.html"><i class="fa fa-check"></i><b>10</b> The Future</a></li>
<li class="chapter" data-level="11" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>11</b> Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/audioblast/acoustic-viz" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Visualisation for bioacoustics and ecoacoustics in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="patterns-of-activity" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Patterns of activity<a href="patterns-of-activity.html#patterns-of-activity" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Lots of organismal activities are tied to the cycles of the day, and particularly in temperate zones, cycles of the year. These cycles bring regular fluctuations in light levels, day lengths, temperatures, and a host of other influences. Often these cycles interact, with the dawn chorus peaking in the early daylight hours, and it’s timing and intensity fluctuating on a yearly cycle. This chapter looks at visualising these cycles, and additionally the effects of lunar cycles.</p>
<p>These plots are created using the SonicScrewdriver package <span class="citation">(<a href="#ref-sonicscrewdriver" role="doc-biblioref">E. Baker 2021</a>)</span> which in turn uses the suncalc package <span class="citation">(<a href="#ref-suncalc" role="doc-biblioref">Thieurmel and Elmarhraoui 2019</a>)</span> to perform the required sun and moon position calculations. The Plotrix package <span class="citation">(<a href="#ref-plotrix" role="doc-biblioref">Lemon 2006</a>)</span> is used for creating the visualisation. These packages can be installed as shown below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="patterns-of-activity.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;plotrix&quot;</span>, <span class="st">&quot;sonicscrewdriver&quot;</span>))</span></code></pre></div>
<p>The SonicScrewdriver package must be loaded before constructing a visual.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="patterns-of-activity.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sonicscrewdriver)</span></code></pre></div>
<div id="daily-cycles" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Daily Cycles<a href="patterns-of-activity.html#daily-cycles" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The use of the term <em>diel</em> for daily cycles has been contested by <span class="citation">Broughton (<a href="#ref-broughton1963" role="doc-biblioref">1963</a>)</span> as being an incorrectly formed unnecessary neologism, it sees greater use (according to the online Oxford English Dictionary) than his suggested <em>nycthemeral</em>.</p>
<p>The design for these plots came from a desire to compare the dawn chorus at various locations around the UK, although they also offer great potential for comparing locations with greater longitudinal and/or latitudinal separation. The plots show the times of day, night, twilight (<a href="patterns-of-activity.html#twilight-types">7.1.1</a>), sunrise, sunset, nadir and solar noon. The day part of the plot shows the altitude (angle of the sun above the horizon) throughout the day, with the maximum value representing the sun being directly overhead.</p>
<div id="twilight-types" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> The Types of Twilight<a href="patterns-of-activity.html#twilight-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:twilights"></span>
<img src="_main_files/figure-html/twilights-1.png" alt="Different types of twilight as the sun sets below the horizon" width="90%" />
<p class="caption">
Figure 7.1: Different types of twilight as the sun sets below the horizon
</p>
</div>
<div id="civil-twilight" class="section level4 hasAnchor" number="7.1.1.1">
<h4><span class="header-section-number">7.1.1.1</span> Civil Twilight<a href="patterns-of-activity.html#civil-twilight" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Civil twilight occurs when the geometric centre of the sun (as seen from Earth) passes between 0° and 6° below the horizon. During this time it is normal for humans not to need the assistance of artifical light for everyday tasks.</p>
</div>
<div id="nautical-twilight" class="section level4 hasAnchor" number="7.1.1.2">
<h4><span class="header-section-number">7.1.1.2</span> Nautical Twilight<a href="patterns-of-activity.html#nautical-twilight" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Nautical twilight occurs when the sun is between 6° and 12° below the horizon. During this time there is sufficient light to distinguish the horizon even without illumination from the moon (allowing determination of position at sea through star sightings).</p>
</div>
<div id="astronomical-twilight" class="section level4 hasAnchor" number="7.1.1.3">
<h4><span class="header-section-number">7.1.1.3</span> Astronomical Twilight<a href="patterns-of-activity.html#astronomical-twilight" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When the sun is between 12° and 18° below the horizon many astronomical observations are possible even though some light from the sun is visible through the atmosphere. In urban areas with light pollution this is often considered to be a dark sky.</p>
</div>
</div>
<div id="diel-plots" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Diel Plots<a href="patterns-of-activity.html#diel-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As the times of the solar day are dependent both on the date and location these must be passed to the <code>dielPlot()</code> function.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="patterns-of-activity.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-1"></span>
<img src="_main_files/figure-html/diel-plot-1-1.png" alt="Example of a diel plot" width="90%" />
<p class="caption">
Figure 7.2: Example of a diel plot
</p>
</div>
<div id="rotations-of-a-dielplot" class="section level4 hasAnchor" number="7.1.2.1">
<h4><span class="header-section-number">7.1.2.1</span> Rotations of a <code>dielPlot()</code><a href="patterns-of-activity.html#rotations-of-a-dielplot" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>By default the information is plotted in the UTC timezone, so locations in other timezones will have an overall rotation.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="patterns-of-activity.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb6-2"><a href="patterns-of-activity.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="sc">-</span><span class="dv">50</span>)</span>
<span id="cb6-3"><a href="patterns-of-activity.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="sc">-</span><span class="dv">0</span>)</span>
<span id="cb6-4"><a href="patterns-of-activity.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="dv">50</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-no-tz"></span>
<img src="_main_files/figure-html/diel-plot-no-tz-1.png" alt="Diel plots in UTC." width="90%" />
<p class="caption">
Figure 7.3: Diel plots in UTC.
</p>
</div>
<p>Plots can be made in any timezone by using the <code>rot</code> parameter to <code>dielPlot()</code> and the <code>tz()</code> function.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="patterns-of-activity.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb7-2"><a href="patterns-of-activity.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="sc">-</span><span class="dv">50</span>, <span class="at">rot=</span><span class="fu">tz</span>(<span class="dv">3</span>))</span>
<span id="cb7-3"><a href="patterns-of-activity.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="sc">-</span><span class="dv">0</span>, <span class="at">rot=</span><span class="fu">tz</span>(<span class="dv">3</span>))</span>
<span id="cb7-4"><a href="patterns-of-activity.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="dv">50</span>, <span class="at">rot=</span><span class="fu">tz</span>(<span class="dv">3</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-tz"></span>
<img src="_main_files/figure-html/diel-plot-tz-1.png" alt="The same diel plots in UTC +3" width="90%" />
<p class="caption">
Figure 7.4: The same diel plots in UTC +3
</p>
</div>
<p>By setting the <code>rot</code> parameter to <code>Solar Noon</code> it is possible to align the plots to solar noon. Notice that this rotates the plot labels.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="patterns-of-activity.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb8-2"><a href="patterns-of-activity.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="sc">-</span><span class="dv">50</span>, <span class="at">rot=</span><span class="st">&quot;Solar Noon&quot;</span>)</span>
<span id="cb8-3"><a href="patterns-of-activity.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="sc">-</span><span class="dv">0</span>, <span class="at">rot=</span><span class="st">&quot;Solar Noon&quot;</span>)</span>
<span id="cb8-4"><a href="patterns-of-activity.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="fu">Sys.Date</span>(), <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="dv">50</span>, <span class="at">rot=</span><span class="st">&quot;Solar Noon&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-sn"></span>
<img src="_main_files/figure-html/diel-plot-sn-1.png" alt="The same diel plots aligned to solar noon" width="90%" />
<p class="caption">
Figure 7.5: The same diel plots aligned to solar noon
</p>
</div>
</div>
<div id="customising-a-dielplot" class="section level4 hasAnchor" number="7.1.2.2">
<h4><span class="header-section-number">7.1.2.2</span> Customising a <code>dielPlot()</code><a href="patterns-of-activity.html#customising-a-dielplot" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In addition to the <code>date</code>, <code>lat</code> and <code>lon</code> parameters to <code>dielPlot()</code> it is possible to make additional customisations to how the information is presented.</p>
<p><strong>Legend</strong></p>
<p>A legend can be added to the plot by setting <code>legend=TRUE</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="patterns-of-activity.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>, <span class="at">legend=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-legend"></span>
<img src="_main_files/figure-html/diel-plot-legend-1.png" alt="Example adding a legend to a diel plot" width="90%" />
<p class="caption">
Figure 7.6: Example adding a legend to a diel plot
</p>
</div>
<p><strong>Plotting Components</strong></p>
<p>The components that can be plotted are listed below. By default all are plotted except for <code>Solar Noon</code> and <code>Nadir</code>.</p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Astronomical Twilight</td>
<td></td>
</tr>
<tr class="even">
<td>Nautical Twilight</td>
<td></td>
</tr>
<tr class="odd">
<td>Civil Twilight</td>
<td></td>
</tr>
<tr class="even">
<td>Sunrise</td>
<td></td>
</tr>
<tr class="odd">
<td>Solar Noon</td>
<td>The time when the sun is highest in the sky</td>
</tr>
<tr class="even">
<td>Sunset</td>
<td></td>
</tr>
<tr class="odd">
<td>Nadir</td>
<td></td>
</tr>
</tbody>
</table>
<p>The components that are plotted can be specified using the <code>plot</code> parameter.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="patterns-of-activity.html#cb10-1" aria-hidden="true" tabindex="-1"></a>components <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sunrise&quot;</span>, <span class="st">&quot;Sunset&quot;</span>, <span class="st">&quot;Solar Noon&quot;</span>, <span class="st">&quot;Nadir&quot;</span>)</span>
<span id="cb10-2"><a href="patterns-of-activity.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>, <span class="at">plot=</span>components)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-components"></span>
<img src="_main_files/figure-html/diel-plot-components-1.png" alt="Selecting the components to plot" width="90%" />
<p class="caption">
Figure 7.7: Selecting the components to plot
</p>
</div>
</div>
</div>
</div>
<div id="yearly-cycles" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Yearly Cycles<a href="patterns-of-activity.html#yearly-cycles" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>yearlyPlot()</code> function from the SonicScrewdriver package shows daylight changes throughout a year. It behaves in a very similar fashion to <code>dielPlot</code> but takes a single year rather a date as input.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="patterns-of-activity.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yearlyPlot</span>(<span class="dv">2022</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:yearly-plot-1"></span>
<img src="_main_files/figure-html/yearly-plot-1-1.png" alt="Example of a yearly plot" width="90%" />
<p class="caption">
Figure 7.8: Example of a yearly plot
</p>
</div>
</div>
<div id="lunar-cycles" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Lunar Cycles<a href="patterns-of-activity.html#lunar-cycles" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="core-and-ring-plots" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Core and ring plots<a href="patterns-of-activity.html#core-and-ring-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>These visualisations for cyclical data plot their information onto a circle with radius of two units. It is possible to limit the plot either to the centre of the circle (a ‘core’ plot) or to the edge (a ‘ring plot’). These alternative forms may be more useful when these plots are used to visualise addition variables (<a href="patterns-of-activity.html#adding-to-cyclical">7.7</a>).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="patterns-of-activity.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>, <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-core"></span>
<img src="_main_files/figure-html/diel-plot-core-1.png" alt="A 'core' diel plot." width="90%" />
<p class="caption">
Figure 7.9: A ‘core’ diel plot.
</p>
</div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="patterns-of-activity.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>, <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-ring"></span>
<img src="_main_files/figure-html/diel-plot-ring-1.png" alt="A 'ring' diel plot." width="90%" />
<p class="caption">
Figure 7.10: A ‘ring’ diel plot.
</p>
</div>
</div>
<div id="behind-the-scenes" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Behind the scenes<a href="patterns-of-activity.html#behind-the-scenes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="radialpolygon" class="section level3 hasAnchor" number="7.5.1">
<h3><span class="header-section-number">7.5.1</span> <code>radialPolygon()</code><a href="patterns-of-activity.html#radialpolygon" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The majority of the plotting performed for cyclical plots in <code>SonicScrewdriver</code> is performed by the <code>radialPolygon()</code> function. This function can be used to plot sectors, annuli, horizon plots and irregular polygons. It is used by the plotting functions such as <code>dielPlot()</code> as well as helper functions such as <code>dielRings()</code> to add data to cyclical plots.</p>
<p>For simple use cases, knowledge of the operation of <code>radialPolygon()</code> may not be needed. A number of helper functions cover the most common uses. However, an understanding of how this function works will allow for far greater customisation of cyclical plots than would otherwise be possible.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:radialPolygon-types"></span>
<img src="_main_files/figure-html/radialPolygon-types-1.png" alt="Types of radial polygon plot" width="90%" />
<p class="caption">
Figure 7.11: Types of radial polygon plot
</p>
</div>
<p>The various types of plots are created by changing the angle and radius parameters to <code>radialPolygon().</code></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="patterns-of-activity.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(angle1, angle2, radius1, radius2, col)</span></code></pre></div>
<div id="orientation" class="section level4 hasAnchor" number="7.5.1.1">
<h4><span class="header-section-number">7.5.1.1</span> Orientation<a href="patterns-of-activity.html#orientation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Unlike traditional polar plots, diel and yearly plots start their periods on the left hand horizontal, and proceed clockwise. This orientation is assumed by <code>radialPolygon()</code>, although it may be modified (e.g. the parameters <code>reverse=FALSE</code> and <code>rot=0</code> will plot using the standard conventions for polar coordinate systems.)</p>
</div>
<div id="sectors" class="section level4 hasAnchor" number="7.5.1.2">
<h4><span class="header-section-number">7.5.1.2</span> Sectors<a href="patterns-of-activity.html#sectors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A sector is a section of a circle defined by two radii and an arc between them. Sectors are used widely in the default settings of <code>dielPlot()</code> to plot the times of night and twilight.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="patterns-of-activity.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyDiel</span>()</span>
<span id="cb15-2"><a href="patterns-of-activity.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(pi<span class="sc">/</span><span class="dv">6</span>, <span class="dv">2</span><span class="sc">*</span>pi<span class="sc">/</span><span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:radialPolygon-sector"></span>
<img src="_main_files/figure-html/radialPolygon-sector-1.png" alt="Plotting a sector" width="90%" />
<p class="caption">
Figure 7.12: Plotting a sector
</p>
</div>
<p>Reversing the angle arguments allows the complementary sector to be drawn.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="patterns-of-activity.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyDiel</span>()</span>
<span id="cb16-2"><a href="patterns-of-activity.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(<span class="dv">2</span><span class="sc">*</span>pi<span class="sc">/</span><span class="dv">3</span>, pi<span class="sc">/</span><span class="dv">6</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="at">col=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:radialPolygon-sector2"></span>
<img src="_main_files/figure-html/radialPolygon-sector2-1.png" alt="Plotting a sector" width="90%" />
<p class="caption">
Figure 7.13: Plotting a sector
</p>
</div>
</div>
<div id="annuli" class="section level4 hasAnchor" number="7.5.1.3">
<h4><span class="header-section-number">7.5.1.3</span> Annuli<a href="patterns-of-activity.html#annuli" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An annulus is the region between two concentric circles. Annuli and annular sectors are generated by <code>radialPolygon()</code> when the parameter <code>radius</code> is greater than zero.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="patterns-of-activity.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyDiel</span>()</span>
<span id="cb17-2"><a href="patterns-of-activity.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(<span class="dv">0</span>, <span class="dv">2</span><span class="sc">*</span>pi, <span class="fl">1.75</span>, <span class="dv">2</span>, <span class="at">col=</span><span class="st">&quot;blue&quot;</span>)</span>
<span id="cb17-3"><a href="patterns-of-activity.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(pi, <span class="dv">4</span><span class="sc">*</span>pi<span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="fl">1.5</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb17-4"><a href="patterns-of-activity.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb17-5"><a href="patterns-of-activity.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span><span class="dv">3</span>,<span class="fl">2.5</span>,</span>
<span id="cb17-6"><a href="patterns-of-activity.html#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;annulus&quot;</span>, <span class="st">&quot;annuluar sector&quot;</span>),</span>
<span id="cb17-7"><a href="patterns-of-activity.html#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>),</span>
<span id="cb17-8"><a href="patterns-of-activity.html#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">lty=</span><span class="dv">1</span>,</span>
<span id="cb17-9"><a href="patterns-of-activity.html#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd=</span><span class="dv">5</span>,</span>
<span id="cb17-10"><a href="patterns-of-activity.html#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb17-11"><a href="patterns-of-activity.html#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:radialPolygon-annuli"></span>
<img src="_main_files/figure-html/radialPolygon-annuli-1.png" alt="Plotting an annulus and an annular sector" width="90%" />
<p class="caption">
Figure 7.14: Plotting an annulus and an annular sector
</p>
</div>
</div>
<div id="horizons" class="section level4 hasAnchor" number="7.5.1.4">
<h4><span class="header-section-number">7.5.1.4</span> Horizons<a href="patterns-of-activity.html#horizons" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Horizons have one circular edge, and one that represents data, they are named as they often resemble a landscape or cityscape horizon. The example below uses a generated sine pattern to form the data edge.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="patterns-of-activity.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tuneR)</span>
<span id="cb18-2"><a href="patterns-of-activity.html#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="patterns-of-activity.html#cb18-3" aria-hidden="true" tabindex="-1"></a>angles <span class="ot">&lt;-</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">200</span>)<span class="sc">*</span>pi<span class="sc">/</span><span class="dv">200</span> <span class="sc">+</span> pi<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb18-4"><a href="patterns-of-activity.html#cb18-4" aria-hidden="true" tabindex="-1"></a>values <span class="ot">&lt;-</span> <span class="fl">0.05</span><span class="sc">*</span><span class="fu">sine</span>(<span class="dv">10</span>, <span class="at">samp.rate=</span><span class="dv">201</span>)<span class="sc">@</span>left</span>
<span id="cb18-5"><a href="patterns-of-activity.html#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="patterns-of-activity.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyDiel</span>()</span>
<span id="cb18-7"><a href="patterns-of-activity.html#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(<span class="cn">NA</span>,angles,<span class="fl">0.5</span>,<span class="dv">1</span><span class="sc">+</span>values)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:radialPolygon-horizon"></span>
<img src="_main_files/figure-html/radialPolygon-horizon-1.png" alt="Plotting a horizon polygon." width="90%" />
<p class="caption">
Figure 7.15: Plotting a horizon polygon.
</p>
</div>
<p>Setting the first angle parameter to <code>NA</code> uses the range of the second to calculate the inner edge.</p>
<p>The inner edge can be used to show data by swapping the order of the angle and radius parameters.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="patterns-of-activity.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tuneR)</span>
<span id="cb19-2"><a href="patterns-of-activity.html#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="patterns-of-activity.html#cb19-3" aria-hidden="true" tabindex="-1"></a>angles <span class="ot">&lt;-</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">200</span>)<span class="sc">*</span>pi<span class="sc">/</span><span class="dv">200</span> <span class="sc">+</span> pi<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb19-4"><a href="patterns-of-activity.html#cb19-4" aria-hidden="true" tabindex="-1"></a>values <span class="ot">&lt;-</span> <span class="fl">0.05</span><span class="sc">*</span><span class="fu">sine</span>(<span class="dv">10</span>, <span class="at">samp.rate=</span><span class="dv">201</span>)<span class="sc">@</span>left</span>
<span id="cb19-5"><a href="patterns-of-activity.html#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="patterns-of-activity.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyDiel</span>()</span>
<span id="cb19-7"><a href="patterns-of-activity.html#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(angles,<span class="cn">NA</span>,<span class="dv">1</span><span class="sc">+</span>values,<span class="dv">2</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:radialPolygon-horizon2"></span>
<img src="_main_files/figure-html/radialPolygon-horizon2-1.png" alt="Plotting a horizon polygon." width="90%" />
<p class="caption">
Figure 7.16: Plotting a horizon polygon.
</p>
</div>
<p>The <code>yearlyPlot()</code> function uses two horizon plots, with a shared data edge.</p>
</div>
<div id="polygons" class="section level4 hasAnchor" number="7.5.1.5">
<h4><span class="header-section-number">7.5.1.5</span> Polygons<a href="patterns-of-activity.html#polygons" class="anchor-section" aria-label="Anchor link to header"></a></h4>
</div>
</div>
</div>
<div id="empty-plots" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Empty plots<a href="patterns-of-activity.html#empty-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The uses of daily and yearly plots extend beyond linking data to earthly cycles. The following functions provide the basic coordinate system without any data plotted (these functions are used intenally by <code>dielPlot()</code> and <code>yearlyPlot()</code> to establish their coordinate system).</p>
<div id="emptydiel" class="section level3 hasAnchor" number="7.6.1">
<h3><span class="header-section-number">7.6.1</span> <code>emptyDiel()</code><a href="patterns-of-activity.html#emptydiel" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="patterns-of-activity.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyDiel</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:emptyDiel"></span>
<img src="_main_files/figure-html/emptyDiel-1.png" alt="An empty dielPlot()." width="90%" />
<p class="caption">
Figure 7.17: An empty dielPlot().
</p>
</div>
</div>
<div id="emptyyearly" class="section level3 hasAnchor" number="7.6.2">
<h3><span class="header-section-number">7.6.2</span> <code>emptyYearly()</code><a href="patterns-of-activity.html#emptyyearly" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>emptyYearly()</code> function takes an option <code>year</code> parameter that automatically adjusts the grid positions for leap years, although the visual effect is marginal.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="patterns-of-activity.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">emptyYearly</span>(<span class="at">year=</span><span class="dv">2000</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:emptyYearly"></span>
<img src="_main_files/figure-html/emptyYearly-1.png" alt="An empty yearlyPlot()." width="90%" />
<p class="caption">
Figure 7.18: An empty yearlyPlot().
</p>
</div>
</div>
</div>
<div id="adding-to-cyclical" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> Adding data to the visualisation<a href="patterns-of-activity.html#adding-to-cyclical" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="periodic-data-rings" class="section level3 hasAnchor" number="7.7.1">
<h3><span class="header-section-number">7.7.1</span> Periodic data: rings<a href="patterns-of-activity.html#periodic-data-rings" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The ring functions (<code>dielRing()</code>,…) plot ring segments on top of a base cyclical plot. These rings are useful for showing typical periods of activity for a species, or events that happen continuously for a specified period of time.</p>
<p>By defaults the limits for the rings are <code>1,2</code> for use with a <em>core</em> type plot, but this can be changed by specifying the <code>limits</code> parameter to the ring function. Similarly, the plot legend may be removed with the paramater <code>legend=FALSE</code>.</p>
<div id="dielrings" class="section level4 hasAnchor" number="7.7.1.1">
<h4><span class="header-section-number">7.7.1.1</span> <code>dielRings()</code><a href="patterns-of-activity.html#dielrings" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="patterns-of-activity.html#cb22-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;activity 1&quot;</span>, <span class="st">&quot;activity 2&quot;</span>, <span class="st">&quot;activity 3&quot;</span>)</span>
<span id="cb22-2"><a href="patterns-of-activity.html#cb22-2" aria-hidden="true" tabindex="-1"></a>starts <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;0600&quot;</span>, <span class="st">&quot;0900&quot;</span>, <span class="st">&quot;1500&quot;</span>)</span>
<span id="cb22-3"><a href="patterns-of-activity.html#cb22-3" aria-hidden="true" tabindex="-1"></a>ends <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1200&quot;</span>, <span class="st">&quot;1700&quot;</span>, <span class="st">&quot;1900&quot;</span>)</span>
<span id="cb22-4"><a href="patterns-of-activity.html#cb22-4" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb22-5"><a href="patterns-of-activity.html#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="patterns-of-activity.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>, <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb22-7"><a href="patterns-of-activity.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dielRings</span>(names, starts, ends, <span class="at">cols=</span>cols)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-rings-1"></span>
<img src="_main_files/figure-html/diel-plot-rings-1-1.png" alt="A 'core' diel plot with diel rings." width="90%" />
<p class="caption">
Figure 7.19: A ‘core’ diel plot with diel rings.
</p>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="patterns-of-activity.html#cb23-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;activity 1&quot;</span>, <span class="st">&quot;activity 2&quot;</span>, <span class="st">&quot;activity 3&quot;</span>)</span>
<span id="cb23-2"><a href="patterns-of-activity.html#cb23-2" aria-hidden="true" tabindex="-1"></a>starts <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;0600&quot;</span>, <span class="st">&quot;0900&quot;</span>, <span class="st">&quot;1500&quot;</span>)</span>
<span id="cb23-3"><a href="patterns-of-activity.html#cb23-3" aria-hidden="true" tabindex="-1"></a>ends <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1200&quot;</span>, <span class="st">&quot;1700&quot;</span>, <span class="st">&quot;1900&quot;</span>)</span>
<span id="cb23-4"><a href="patterns-of-activity.html#cb23-4" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb23-5"><a href="patterns-of-activity.html#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="patterns-of-activity.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dielPlot</span>(<span class="st">&quot;2022-08-08&quot;</span>, <span class="at">lat=</span><span class="dv">53</span>, <span class="at">lon=</span><span class="fl">0.1</span>, <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb23-7"><a href="patterns-of-activity.html#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dielRings</span>(names, starts, ends, <span class="at">cols=</span>cols, <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diel-plot-rings-2"></span>
<img src="_main_files/figure-html/diel-plot-rings-2-1.png" alt="A 'ring' diel plot with diel rings." width="90%" />
<p class="caption">
Figure 7.20: A ‘ring’ diel plot with diel rings.
</p>
</div>
</div>
</div>
<div id="periodic-data-horizons" class="section level3 hasAnchor" number="7.7.2">
<h3><span class="header-section-number">7.7.2</span> Periodic data: horizons<a href="patterns-of-activity.html#periodic-data-horizons" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this example we will plot the average monthly minimum and maximum temperatures for Lyme Regis, UK onto a <code>yearlyPlot()</code>. This example introduces two helper functions; <code>yearlyLabels()</code> and <code>circularise()</code>.</p>
<div id="yearlylabels-and-yearlypositions" class="section level4 hasAnchor" number="7.7.2.1">
<h4><span class="header-section-number">7.7.2.1</span> <code>yearlyLabels()</code> and <code>yearlyPositions</code><a href="patterns-of-activity.html#yearlylabels-and-yearlypositions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>These two functions are closely related, and used internally by <code>SonicScrewdriveR</code> to label a yearly plot.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="patterns-of-activity.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yearlyLabels</span>()</span></code></pre></div>
<p>The optional <code>pos</code> parameter when set to <code>TRUE</code> returns a vector of positions for the labels around the plot (in radians).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="patterns-of-activity.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yearlyPositions</span>(<span class="at">year=</span><span class="dv">2022</span>)</span></code></pre></div>
<pre><code>##  [1] 0.0000000 0.5336404 1.0156382 1.5492786 2.0657048 2.5993452 3.1157713
##  [8] 3.6494117 4.1830521 4.6994783 5.2331187 5.7495449</code></pre>
<p>The temperature data we have for Lyme Regis is monthly, however we would like to plot the values at the middle of the respective month. For this we add the parameter <code>format="mid-month"</code> to get the appropriate radial angles.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="patterns-of-activity.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yearlyPositions</span>(<span class="at">year=</span><span class="dv">2022</span>, <span class="at">format=</span><span class="st">&quot;mid-months&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] 0.2668202 0.7746393 1.2824584 1.8074917 2.3325250 2.8575582 3.3825915
##  [8] 3.9162319 4.4412652 4.9662985 5.4913318 5.9733296</code></pre>
<p>If we now plot this data we see that the output is not quite a complete ring or horizon data as we might have expected.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="patterns-of-activity.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Temperature data for Lyme Regis</span></span>
<span id="cb29-2"><a href="patterns-of-activity.html#cb29-2" aria-hidden="true" tabindex="-1"></a>t_min <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="fl">2.7</span>, <span class="fl">3.4</span>, <span class="fl">5.2</span>, <span class="fl">8.2</span>, <span class="fl">11.2</span>, <span class="fl">13.1</span>, <span class="dv">13</span>, <span class="fl">14.4</span>, <span class="fl">9.2</span>, <span class="fl">5.8</span>, <span class="fl">3.8</span>)</span>
<span id="cb29-3"><a href="patterns-of-activity.html#cb29-3" aria-hidden="true" tabindex="-1"></a>t_max <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.9</span>,<span class="dv">8</span>, <span class="fl">9.8</span>, <span class="fl">12.4</span>, <span class="fl">15.4</span>, <span class="fl">18.2</span>, <span class="fl">20.1</span>, <span class="fl">19.5</span>, <span class="fl">17.8</span>, <span class="fl">14.4</span>, <span class="fl">10.6</span>, <span class="fl">8.4</span>)</span>
<span id="cb29-4"><a href="patterns-of-activity.html#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="patterns-of-activity.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale the data</span></span>
<span id="cb29-6"><a href="patterns-of-activity.html#cb29-6" aria-hidden="true" tabindex="-1"></a>sf <span class="ot">&lt;-</span> <span class="fu">max</span>(t_max)</span>
<span id="cb29-7"><a href="patterns-of-activity.html#cb29-7" aria-hidden="true" tabindex="-1"></a>t_min <span class="ot">&lt;-</span> t_min<span class="sc">/</span>sf</span>
<span id="cb29-8"><a href="patterns-of-activity.html#cb29-8" aria-hidden="true" tabindex="-1"></a>t_max <span class="ot">&lt;-</span> t_max<span class="sc">/</span>sf</span>
<span id="cb29-9"><a href="patterns-of-activity.html#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="patterns-of-activity.html#cb29-10" aria-hidden="true" tabindex="-1"></a>angles <span class="ot">&lt;-</span> <span class="fu">yearlyPositions</span>(<span class="at">format=</span><span class="st">&quot;mid-months&quot;</span>)</span>
<span id="cb29-11"><a href="patterns-of-activity.html#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="patterns-of-activity.html#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">yearlyPlot</span>(<span class="at">lat=</span><span class="fl">50.7</span>, <span class="at">lon=</span><span class="sc">-</span><span class="fl">2.9</span>)</span>
<span id="cb29-13"><a href="patterns-of-activity.html#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(angles, angles, t_min, t_max, <span class="at">col=</span><span class="st">&quot;orange&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:lyme-temp-1"></span>
<img src="_main_files/figure-html/lyme-temp-1-1.png" alt="Horizon data plot without circularise()." width="90%" />
<p class="caption">
Figure 7.21: Horizon data plot without circularise().
</p>
</div>
</div>
<div id="circularise" class="section level4 hasAnchor" number="7.7.2.2">
<h4><span class="header-section-number">7.7.2.2</span> <code>circularise()</code><a href="patterns-of-activity.html#circularise" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In order to join the horizons into a complete ring we can use the <code>circularise()</code> function on the angle and temperature vectors.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="patterns-of-activity.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Temperature data for Lyme Regis</span></span>
<span id="cb30-2"><a href="patterns-of-activity.html#cb30-2" aria-hidden="true" tabindex="-1"></a>t_min <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="fl">2.7</span>, <span class="fl">3.4</span>, <span class="fl">5.2</span>, <span class="fl">8.2</span>, <span class="fl">11.2</span>, <span class="fl">13.1</span>, <span class="dv">13</span>, <span class="fl">14.4</span>, <span class="fl">9.2</span>, <span class="fl">5.8</span>, <span class="fl">3.8</span>)</span>
<span id="cb30-3"><a href="patterns-of-activity.html#cb30-3" aria-hidden="true" tabindex="-1"></a>t_max <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.9</span>,<span class="dv">8</span>, <span class="fl">9.8</span>, <span class="fl">12.4</span>, <span class="fl">15.4</span>, <span class="fl">18.2</span>, <span class="fl">20.1</span>, <span class="fl">19.5</span>, <span class="fl">17.8</span>, <span class="fl">14.4</span>, <span class="fl">10.6</span>, <span class="fl">8.4</span>)</span>
<span id="cb30-4"><a href="patterns-of-activity.html#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="patterns-of-activity.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale the data</span></span>
<span id="cb30-6"><a href="patterns-of-activity.html#cb30-6" aria-hidden="true" tabindex="-1"></a>sf <span class="ot">&lt;-</span> <span class="fu">max</span>(t_max)</span>
<span id="cb30-7"><a href="patterns-of-activity.html#cb30-7" aria-hidden="true" tabindex="-1"></a>t_min <span class="ot">&lt;-</span> t_min<span class="sc">/</span>sf</span>
<span id="cb30-8"><a href="patterns-of-activity.html#cb30-8" aria-hidden="true" tabindex="-1"></a>t_max <span class="ot">&lt;-</span> t_max<span class="sc">/</span>sf</span>
<span id="cb30-9"><a href="patterns-of-activity.html#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="patterns-of-activity.html#cb30-10" aria-hidden="true" tabindex="-1"></a>angles <span class="ot">&lt;-</span> <span class="fu">yearlyPositions</span>(<span class="at">format=</span><span class="st">&quot;mid-months&quot;</span>)</span>
<span id="cb30-11"><a href="patterns-of-activity.html#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="patterns-of-activity.html#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Circularise</span></span>
<span id="cb30-13"><a href="patterns-of-activity.html#cb30-13" aria-hidden="true" tabindex="-1"></a>t_min <span class="ot">&lt;-</span> <span class="fu">circularise</span>(t_min)</span>
<span id="cb30-14"><a href="patterns-of-activity.html#cb30-14" aria-hidden="true" tabindex="-1"></a>t_max <span class="ot">&lt;-</span> <span class="fu">circularise</span>(t_max)</span>
<span id="cb30-15"><a href="patterns-of-activity.html#cb30-15" aria-hidden="true" tabindex="-1"></a>angles <span class="ot">&lt;-</span> <span class="fu">circularise</span>(angles)</span>
<span id="cb30-16"><a href="patterns-of-activity.html#cb30-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-17"><a href="patterns-of-activity.html#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="fu">yearlyPlot</span>(<span class="at">lat=</span><span class="fl">50.7</span>, <span class="at">lon=</span><span class="sc">-</span><span class="fl">2.9</span>)</span>
<span id="cb30-18"><a href="patterns-of-activity.html#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="fu">radialPolygon</span>(angles, angles, t_min, t_max, <span class="at">col=</span><span class="st">&quot;orange&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:lyme-temp-2"></span>
<img src="_main_files/figure-html/lyme-temp-2-1.png" alt="Horizon data plot with circularise()." width="90%" />
<p class="caption">
Figure 7.22: Horizon data plot with circularise().
</p>
</div>
</div>
</div>
<div id="helper-functions" class="section level3 hasAnchor" number="7.7.3">
<h3><span class="header-section-number">7.7.3</span> Helper functions<a href="patterns-of-activity.html#helper-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="dielfraction" class="section level4 hasAnchor" number="7.7.3.1">
<h4><span class="header-section-number">7.7.3.1</span> <code>dielFraction()</code><a href="patterns-of-activity.html#dielfraction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>dielFraction()</code> function is used to convert a POSIX time, or a time in <code>HHMM</code> string format, into a radial fraction. This function is called by <code>dielPlot()</code> and <code>dielRings()</code>. By default the output is multiplied by 2π to output a position round a circle.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="patterns-of-activity.html#cb31-1" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb31-2"><a href="patterns-of-activity.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(time)</span></code></pre></div>
<pre><code>## [1] &quot;2022-08-20 17:57:37 BST&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="patterns-of-activity.html#cb33-1" aria-hidden="true" tabindex="-1"></a>frac <span class="ot">&lt;-</span> <span class="fu">dielFraction</span>(time)</span>
<span id="cb33-2"><a href="patterns-of-activity.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(frac)</span></code></pre></div>
<pre><code>## [1] 4.702056</code></pre>
<p>The raw fraction can be specified using the parameter <code>unit="fraction"</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="patterns-of-activity.html#cb35-1" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb35-2"><a href="patterns-of-activity.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(time)</span></code></pre></div>
<pre><code>## [1] &quot;2022-08-20 17:57:38 BST&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="patterns-of-activity.html#cb37-1" aria-hidden="true" tabindex="-1"></a>frac <span class="ot">&lt;-</span> <span class="fu">dielFraction</span>(time, <span class="at">unit=</span><span class="st">&quot;fraction&quot;</span>)</span>
<span id="cb37-2"><a href="patterns-of-activity.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(frac)</span></code></pre></div>
<pre><code>## [1] 0.7483565</code></pre>
</div>
</div>
</div>
<div id="interactive-plots" class="section level2 hasAnchor" number="7.8">
<h2><span class="header-section-number">7.8</span> Interactive Plots<a href="patterns-of-activity.html#interactive-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>These plots can be used to create Shiny apps</p>
<ul>
<li><a href="https://shiny.ebaker.me.uk/shiny-diel/">shiny-diel</a> is an example that shows diel plots for a number of locations, and can be animated using the play button under the date slider.</li>
</ul>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-sonicscrewdriver" class="csl-entry">
Baker, E. 2021. <em>SonicScrewdriveR</em>. <a href="https://cran.r-project.org/package=sonicscrewdriver">https://cran.r-project.org/package=sonicscrewdriver</a>.
</div>
<div id="ref-broughton1963" class="csl-entry">
Broughton, W. B. 1963. <span>“Acoustic Behavior of Animals.”</span> In, edited by René Guy Busnel. Elsevier.
</div>
<div id="ref-plotrix" class="csl-entry">
Lemon, J. 2006. <span>“Plotrix: A Package in the Red Light District of r.”</span> <em>R-News</em> 6 (4): 8–12.
</div>
<div id="ref-suncalc" class="csl-entry">
Thieurmel, Benoit, and Achraf Elmarhraoui. 2019. <em>Suncalc: Compute Sun Position, Sunlight Phases, Moon Position and Lunar Phase</em>. <a href="https://CRAN.R-project.org/package=suncalc">https://CRAN.R-project.org/package=suncalc</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="representing-soundscapes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="displaying-annotations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/audioblast/acoustic-viz/edit/master/06-patterns.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
